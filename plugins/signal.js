const[e,s,i,c,o,t,a,n,l,r]=await Promise.all(["/lib/dom.js","/lib/html.js","/lib/svg.js","/ids.js","/language.js","/map.js","/map_tokens.js","/rpc.js","/shared.js","/tools.js"].map(include));if(n.isAdmin){const d=o.makeLangPack({HOME:"Set Map Start Location",MOVE:"Move User Map",TITLE:"Signal"}),p=s.input({type:"checkbox",class:c.settingsTicker,onchange:()=>e.amendNode(g,{disabled:!p.checked})}),g=s.input({type:"checkbox",class:c.settingsTicker,disabled:!0});r.addTool({name:d.TITLE,id:"tool_signal",icon:i.svg({viewBox:"0 0 100 100",fill:"none",stroke:"currentColor","stroke-width":3},[i.circle({cx:50,cy:50,r:48}),i.circle({cx:50,cy:50,r:38})]),options:s.div([l.labels(p,[d.MOVE,": "]),s.br(),l.labels(g,[d.HOME,": "])]),mapMouse0:e=>{const s=t.screen2Grid(e.clientX,e.clientY);return t.showSignal(s),p.checked?(g.checked&&n.rpc.setMapStart(s),n.rpc.signalMovePosition(s)):n.rpc.signalPosition(s),!1},set:a.deselectToken})}